{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"C:/webWork/olivertwist/node_modules/@babel/runtime/helpers/esm/slicedToArray\";// import logo from './logo.svg';\nimport{useEffect,useRef}from'react';import'./App.css';import'./AppGeneral.css';import'./animation.css';import{Redirect,Route,BrowserRouter as Router}from\"react-router-dom\";// zergski logic\nimport{createObserver,queueFrame}from'zergski-global';import{useGlobalObj,globalObj}from'zergski-global';import{routerHook,useRouterHook}from'logic/router';import Home from'./Pages/Home';// nav\nimport Navigation from'./Navigation/Container';// Page Sections\nimport LandingContainer from'./Landing/Container';import DoormatContainer from'./Doormat/Container';import NewsContainer from'./News/Container';import GalleryContainer from'./Gallery/Container';import MenuContainer from'./Menu/Container';import AboutContainer from'./About/Container';import ContactContainer from'./Contact/Container';import FooterContainer from'./Footer/Container';// Routed pages\nimport GalleryPage from'Pages/Gallery/Container';// Modals\nimport MediaViewer from'modals/MediaViewer';import ModalWindow from'modals/Window';// components\nimport Button from'shared/Button';import Anchor from'shared/Anchor';/**\n * Assigned handler with a properties object\n * TODO!: Document props passed to this function and\n * send all of them separately\n * @param {*} props\n */var handleNavigation=function handleNavigation(_ref){var entry=_ref.entry,observer=_ref.observer;if(entry.target.zKey==='Nav'&&entry.isIntersecting){globalObj.Sections.Nav.setState({sticky:'stuck'});}else if(entry.target.zKey==='Nav'&&!entry.isIntersecting){globalObj.Sections.Nav.setState({sticky:''});}};var handleViewportAnimated=function handleViewportAnimated(_ref2){var entry=_ref2.entry,observer=_ref2.observer,prevRatio=_ref2.prevRatio;// console.log(entry.target.zKey, entry.isIntersecting)\nif(entry.isIntersecting){queueFrame(function(){entry.target.zEl.setState('');});observer.unobserve(entry.target);}};var App=function App(){var _useRouterHook=useRouterHook(null),_useRouterHook2=_slicedToArray(_useRouterHook,1),route=_useRouterHook2[0];var main={root:useRef(null),ref:useRef(null)};useEffect(function(){// for the global object to be accessible through import, it has to be initialized\n// after a 'componentDidMount' or 'useEffect' in that component\nvar Sections=globalObj.Sections,ViewportAnimated=globalObj.ViewportAnimated;globalObj.Sections.Nav.current=0;main.ref=main.ref.current;main.root=main.ref.parentElement;globalObj.main=main;// all you need to create an intersectionObserver\n// a reference of to the observer, in our case\n// the root element\ncreateObserver('ViewportAnimation',main.root,// observer\nObject.values(ViewportAnimated).map(function(e){return e.ref;}),handleViewportAnimated,// callback function\n['-20% 0px -20% 0px'],1);createObserver('Navigation',main.root,// observer\nSections.Nav.ref,handleNavigation,// callback function\n['0px 0px -99% 0px'],1);},[]);return/*#__PURE__*/_jsx(\"main\",{className:\"App\",ref:main.ref,children:/*#__PURE__*/_jsxs(Router,{children:[route?/*#__PURE__*/_jsx(Redirect,{to:route}):'',/*#__PURE__*/_jsx(Route,{path:\"/\",component:Home}),/*#__PURE__*/_jsx(Route,{path:\"/gallery\",component:GalleryPage})]})});};export default App;","map":{"version":3,"sources":["C:/webWork/olivertwist/src/App.js"],"names":["useEffect","useRef","Redirect","Route","BrowserRouter","Router","createObserver","queueFrame","useGlobalObj","globalObj","routerHook","useRouterHook","Home","Navigation","LandingContainer","DoormatContainer","NewsContainer","GalleryContainer","MenuContainer","AboutContainer","ContactContainer","FooterContainer","GalleryPage","MediaViewer","ModalWindow","Button","Anchor","handleNavigation","entry","observer","target","zKey","isIntersecting","Sections","Nav","setState","sticky","handleViewportAnimated","prevRatio","zEl","unobserve","App","route","main","root","ref","ViewportAnimated","current","parentElement","Object","values","map","e"],"mappings":"iMAAA;AACA,OAASA,SAAT,CAAoBC,MAApB,KAAkC,OAAlC,CACA,MAAO,WAAP,CACA,MAAO,kBAAP,CACA,MAAO,iBAAP,CACA,OAASC,QAAT,CAAmBC,KAAnB,CAA0BC,aAAa,GAAIC,CAAAA,MAA3C,KAAyD,kBAAzD,CAEA;AACA,OAASC,cAAT,CAAyBC,UAAzB,KAA2C,gBAA3C,CACA,OAASC,YAAT,CAAuBC,SAAvB,KAAwC,gBAAxC,CACA,OAASC,UAAT,CAAqBC,aAArB,KAA0C,cAA1C,CAEA,MAAOC,CAAAA,IAAP,KAAiB,cAAjB,CAEA;AACA,MAAOC,CAAAA,UAAP,KAAuB,wBAAvB,CAEA;AACA,MAAOC,CAAAA,gBAAP,KAA6B,qBAA7B,CACA,MAAOC,CAAAA,gBAAP,KAA6B,qBAA7B,CACA,MAAOC,CAAAA,aAAP,KAA0B,kBAA1B,CACA,MAAOC,CAAAA,gBAAP,KAA6B,qBAA7B,CACA,MAAOC,CAAAA,aAAP,KAA0B,kBAA1B,CACA,MAAOC,CAAAA,cAAP,KAA2B,mBAA3B,CACA,MAAOC,CAAAA,gBAAP,KAA6B,qBAA7B,CACA,MAAOC,CAAAA,eAAP,KAA4B,oBAA5B,CAEA;AACA,MAAOC,CAAAA,WAAP,KAAwB,yBAAxB,CAEA;AACA,MAAOC,CAAAA,WAAP,KAAwB,oBAAxB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CAEA;AACA,MAAOC,CAAAA,MAAP,KAAmB,eAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,eAAnB,CAIA;AACA;AACA;AACA;AACA;AACA,GACA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,MAAyB,IAAtBC,CAAAA,KAAsB,MAAtBA,KAAsB,CAAfC,QAAe,MAAfA,QAAe,CACjD,GAAKD,KAAK,CAACE,MAAN,CAAaC,IAAb,GAAsB,KAAtB,EAA+BH,KAAK,CAACI,cAA1C,CAA2D,CAC1DvB,SAAS,CAACwB,QAAV,CAAmBC,GAAnB,CAAuBC,QAAvB,CAAgC,CAAEC,MAAM,CAAE,OAAV,CAAhC,EACA,CAFD,IAEO,IAAKR,KAAK,CAACE,MAAN,CAAaC,IAAb,GAAsB,KAAtB,EAA+B,CAACH,KAAK,CAACI,cAA3C,CAA4D,CAClEvB,SAAS,CAACwB,QAAV,CAAmBC,GAAnB,CAAuBC,QAAvB,CAAgC,CAAEC,MAAM,CAAE,EAAV,CAAhC,EACA,CACD,CAND,CAQA,GAAMC,CAAAA,sBAAsB,CAAG,QAAzBA,CAAAA,sBAAyB,OAAoC,IAAjCT,CAAAA,KAAiC,OAAjCA,KAAiC,CAA1BC,QAA0B,OAA1BA,QAA0B,CAAhBS,SAAgB,OAAhBA,SAAgB,CAClE;AACA,GAAKV,KAAK,CAACI,cAAX,CAA4B,CAC3BzB,UAAU,CAAC,UAAM,CAChBqB,KAAK,CAACE,MAAN,CAAaS,GAAb,CAAiBJ,QAAjB,CAA2B,EAA3B,EACA,CAFS,CAAV,CAGAN,QAAQ,CAACW,SAAT,CAAoBZ,KAAK,CAACE,MAA1B,EACA,CACD,CARD,CAUA,GAAMW,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,EAAM,oBACC9B,aAAa,CAAC,IAAD,CADd,kDACT+B,KADS,oBAGjB,GAAMC,CAAAA,IAAI,CAAG,CACZC,IAAI,CAAE3C,MAAM,CAAC,IAAD,CADA,CAEZ4C,GAAG,CAAE5C,MAAM,CAAC,IAAD,CAFC,CAAb,CAKAD,SAAS,CAAC,UAAM,CACf;AACA;AAFe,GAGPiC,CAAAA,QAHO,CAGwBxB,SAHxB,CAGPwB,QAHO,CAGGa,gBAHH,CAGwBrC,SAHxB,CAGGqC,gBAHH,CAIfrC,SAAS,CAACwB,QAAV,CAAmBC,GAAnB,CAAuBa,OAAvB,CAAiC,CAAjC,CACAJ,IAAI,CAACE,GAAL,CAAWF,IAAI,CAACE,GAAL,CAASE,OAApB,CACAJ,IAAI,CAACC,IAAL,CAAYD,IAAI,CAACE,GAAL,CAASG,aAArB,CACAvC,SAAS,CAACkC,IAAV,CAAiBA,IAAjB,CACA;AACA;AACA;AACArC,cAAc,CACb,mBADa,CAEbqC,IAAI,CAACC,IAFQ,CAEF;AACXK,MAAM,CAACC,MAAP,CAAcJ,gBAAd,EAAgCK,GAAhC,CAAqC,SAAAC,CAAC,CAAI,CAAE,MAAOA,CAAAA,CAAC,CAACP,GAAT,CAAc,CAA1D,CAHa,CAIbR,sBAJa,CAIW;AACxB,CAAC,mBAAD,CALa,CAMb,CANa,CAAd,CAQA/B,cAAc,CACb,YADa,CAEbqC,IAAI,CAACC,IAFQ,CAEF;AACXX,QAAQ,CAACC,GAAT,CAAaW,GAHA,CAIblB,gBAJa,CAIK;AAClB,CAAC,kBAAD,CALa,CAMb,CANa,CAAd,CAUA,CA7BQ,CA6BN,EA7BM,CAAT,CA+BA,mBAIE,aAAM,SAAS,CAAC,KAAhB,CAAsB,GAAG,CAAGgB,IAAI,CAACE,GAAjC,uBA0BC,MAAC,MAAD,YACAH,KAAK,cAAG,KAAC,QAAD,EAAU,EAAE,CAAGA,KAAf,EAAH,CAA+B,EADpC,cAEA,KAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,SAAS,CAAG9B,IAA5B,EAFA,cAGG,KAAC,KAAD,EAAO,IAAI,CAAC,UAAZ,CAAuB,SAAS,CAAGU,WAAnC,EAHH,GA1BD,EAJF,CAuCA,CA9ED,CAgFA,cAAemB,CAAAA,GAAf","sourcesContent":["// import logo from './logo.svg';\nimport { useEffect, useRef } from 'react';\nimport './App.css';\nimport './AppGeneral.css';\nimport './animation.css';\nimport { Redirect, Route, BrowserRouter as Router } from \"react-router-dom\";\n\n// zergski logic\nimport { createObserver, queueFrame } from 'zergski-global';\nimport { useGlobalObj, globalObj } from 'zergski-global';\nimport { routerHook, useRouterHook } from 'logic/router';\n\nimport Home from './Pages/Home';\n\n// nav\nimport Navigation from './Navigation/Container';\n\n// Page Sections\nimport LandingContainer from './Landing/Container';\nimport DoormatContainer from './Doormat/Container';\nimport NewsContainer from './News/Container';\nimport GalleryContainer from './Gallery/Container';\nimport MenuContainer from './Menu/Container';\nimport AboutContainer from './About/Container';\nimport ContactContainer from './Contact/Container';\nimport FooterContainer from './Footer/Container';\n\n// Routed pages\nimport GalleryPage from 'Pages/Gallery/Container';\n\n// Modals\nimport MediaViewer from 'modals/MediaViewer';\nimport ModalWindow from 'modals/Window';\n\n// components\nimport Button from 'shared/Button';\nimport Anchor from 'shared/Anchor';\n\n\n\n/**\n * Assigned handler with a properties object\n * TODO!: Document props passed to this function and\n * send all of them separately\n * @param {*} props\n */\nconst handleNavigation = ({ entry, observer }) => {\n\tif ( entry.target.zKey === 'Nav' && entry.isIntersecting ) {\n\t\tglobalObj.Sections.Nav.setState({ sticky: 'stuck' });\n\t} else if ( entry.target.zKey === 'Nav' && !entry.isIntersecting ) {\n\t\tglobalObj.Sections.Nav.setState({ sticky: '' });\n\t}\n}\n\nconst handleViewportAnimated = ({ entry, observer, prevRatio }) => {\n\t// console.log(entry.target.zKey, entry.isIntersecting)\n\tif ( entry.isIntersecting ) {\n\t\tqueueFrame(() => {\n\t\t\tentry.target.zEl.setState( '' );\n\t\t});\n\t\tobserver.unobserve( entry.target );\n\t}\n}\n\nconst App = () => {\n\tconst [ route ] = useRouterHook(null);\n\n\tconst main = {\n\t\troot: useRef(null),\n\t\tref: useRef(null),\n\t}\n\n\tuseEffect(() => {\n\t\t// for the global object to be accessible through import, it has to be initialized\n\t\t// after a 'componentDidMount' or 'useEffect' in that component\n\t\tconst { Sections, ViewportAnimated } = globalObj;\n\t\tglobalObj.Sections.Nav.current = 0;\n\t\tmain.ref = main.ref.current;\n\t\tmain.root = main.ref.parentElement;\n\t\tglobalObj.main = main;\n\t\t// all you need to create an intersectionObserver\n\t\t// a reference of to the observer, in our case\n\t\t// the root element\n\t\tcreateObserver (\n\t\t\t'ViewportAnimation',\n\t\t\tmain.root,\t// observer\n\t\t\tObject.values(ViewportAnimated).map( e => { return e.ref }),\n\t\t\thandleViewportAnimated,\t// callback function\n\t\t\t['-20% 0px -20% 0px'],\n\t\t\t1\n\t\t);\n\t\tcreateObserver (\n\t\t\t'Navigation',\n\t\t\tmain.root,\t// observer\n\t\t\tSections.Nav.ref,\n\t\t\thandleNavigation,\t// callback function\n\t\t\t['0px 0px -99% 0px'],\n\t\t\t1\n\t\t);\n\n\n\t}, []);\n\n\treturn (\n\n\n\n\t\t\t<main className=\"App\" ref={ main.ref }>\n\t\t\t\t{/* <LandingContainer />\n\t\t\t\t<Navigation />\n\t\t\t\t<header className=\"App-header\">\n\t\t\t\t\t<Anchor altClass=\"icon\"\n\t\t\t\t\t\tlink=\"none\"\n\t\t\t\t\t\tfileName=\"otlogo-white-simple.svg\"\n\t\t\t\t\t\tstyle={{ marginRight: 'auto', height: '2.4rem' }}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Button altClass=\"minimal lang\"\n\t\t\t\t\t\ttext=\"Eng.\"\n\t\t\t\t\t\tclicked={ '' }\n\t\t\t\t\t/>\n\t\t\t\t</header>\n\n\t\t\t\t<DoormatContainer />\n\t\t\t\t<NewsContainer />\n\t\t\t\t<GalleryContainer />\n\t\t\t\t<MenuContainer />\n\t\t\t\t<AboutContainer />\n\t\t\t\t<ContactContainer />\n\t\t\t\t<FooterContainer />\n\n\t\t\t\t<MediaViewer />\n\t\t\t\t<ModalWindow /> */}\n\t\t\t\t<Router>\n\t\t{ route ? <Redirect to={ route } /> : '' }\n\t\t \t<Route path=\"/\" component={ Home } />\n      \t<Route path=\"/gallery\" component={ GalleryPage } />\n\t\t</Router>\n\n\t\t\t</main>\n\n\t);\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}